"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4094],{4094:(re,b,a)=>{a.r(b),a.d(b,{OrdersPageModule:()=>ee});var p=a(6814),i=a(95),l=a(3800),f=a(209),e=a(6242),y=a(74);let A=(()=>{var r;class o{constructor(){}ngOnInit(){console.log("Order create called")}}return(r=o).\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-create-order"]],decls:1,vars:0,consts:[["pageName","Create Order"]],template:function(t,s){1&t&&e._UZ(0,"app-header",0)},dependencies:[y.G]}),o})(),O=(()=>{var r;class o{constructor(){}get orders(){return this._orders}set orders(t){this._orders=t}}return(r=o).\u0275fac=function(t){return new(t||r)},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),o})();function P(r,o){1&r&&e._UZ(0,"ion-datetime",26)}function U(r,o){1&r&&e._UZ(0,"ion-datetime",27)}function N(r,o){1&r&&e._UZ(0,"ion-datetime",28)}let D=(()=>{var r;class o{constructor(t,s,d,c){this.formBuilder=t,this.ordersStore=s,this.route=d,this.router=c,this.defaultHref="orders/report"}ngOnInit(){this.orderDetailsForm=this.formBuilder.group({customerName:["",[i.kI.required]],gst:["",[i.kI.required]],size:["",i.kI.required],quantity:["",i.kI.required],gsm:["",i.kI.required],address:this.formBuilder.group({addressOne:["",i.kI.required],addressTwo:["",i.kI.required],city:["",i.kI.required],district:["",i.kI.required],state:["",i.kI.required],pinCode:["",i.kI.required]}),status:["",i.kI.required],createdDate:["",i.kI.required],orderedDate:["",i.kI.required],deliveredDate:["",i.kI.required]})}ionViewWillEnter(){const t=this.route.snapshot.paramMap.get("id");let s=null;if(t&&!Number.isNaN(t)&&this.ordersStore.orders)if(s=this.ordersStore.orders.find(u=>u.id===+t),s){var d,c,m;console.log(s),this.orderDetailsForm=this.formBuilder.group({customerName:[{value:s.customer.firstName+" "+s.customer.lastName,disabled:!0},[i.kI.required]],gst:[{value:s.customer.gstNumber,disabled:!0},[i.kI.required]],size:[s.size,i.kI.required],quantity:[s.quantity,i.kI.required],gsm:[s.gsm,i.kI.required],address:this.formBuilder.group({addressOne:[s.address.addressOne,[i.kI.required]],addressTwo:[s.address.addressTwo,i.kI.required],city:[s.address.city,i.kI.required],district:[s.address.district,i.kI.required],state:[s.address.state,i.kI.required],pinCode:[s.address.pinCode,i.kI.required]}),status:[s.status.toLowerCase(),[i.kI.required]],createdDate:[{value:null===(d=s.createdOn)||void 0===d?void 0:d.replace(" ","T"),disabled:!0},i.kI.required],orderedDate:[null===(c=s.orderedDate)||void 0===c?void 0:c.replace(" ","T"),i.kI.required],deliveredDate:[null===(m=s.deliveredDate)||void 0===m?void 0:m.replace(" ","T"),i.kI.required]})}else console.log("order not available");s||this.router.navigate(["orders/report"])}}return(r=o).\u0275fac=function(t){return new(t||r)(e.Y36(i.qu),e.Y36(O),e.Y36(f.gz),e.Y36(f.F0))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-order-details"]],decls:61,vars:6,consts:[[3,"translucent"],["slot","start"],["text","",3,"defaultHref"],["slot","end"],["fill","solid","color","primary"],["fullscreen","true"],[3,"formGroup"],["labelPlacement","fixed","label","Name","formControlName","customerName","readonly","true","placeholder","Enter text"],["labelPlacement","fixed","label","GST","formControlName","gst","readonly","true","placeholder","Enter text"],["datetime","createdDateTime"],[3,"keepContentsMounted"],["labelPlacement","fixed","label","Size","formControlName","size","placeholder","Enter text","type","number"],["labelPlacement","fixed","label","Quantity","formControlName","quantity","placeholder","Enter text","type","number"],["labelPlacement","fixed","label","GSM","formControlName","gsm","placeholder","Enter text","type","number"],["labelPlacement","fixed","label","Order Status","placeholder","Select Order Status","formControlName","status"],["value","ordered"],["value","delivered"],["datetime","orderedDateTime"],["datetime","deliveredDateTime"],["formGroupName","address"],["labelPlacement","fixed","label","Address1","formControlName","addressOne","placeholder","Provide address here"],["labelPlacement","fixed","label","Address2","formControlName","addressTwo","placeholder","Provide address here"],["labelPlacement","fixed","label","City","formControlName","city","placeholder","Provide address here"],["labelPlacement","fixed","label","District","formControlName","district","placeholder","Provide address here"],["labelPlacement","fixed","label","State","formControlName","state","placeholder","Provide address here"],["labelPlacement","fixed","label","Pin Code","formControlName","pinCode","placeholder","Provide address here"],["labelPlacement","fixed","label","Name","formControlName","createdDate","id","createdDateTime"],["labelPlacement","fixed","label","Name","formControlName","orderedDate","id","orderedDateTime"],["labelPlacement","fixed","label","Name","formControlName","deliveredDate","id","deliveredDateTime"]],template:function(t,s){1&t&&(e.TgZ(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-buttons",1),e._UZ(3,"ion-back-button",2),e.qZA(),e.TgZ(4,"ion-title"),e._uU(5," Order Details "),e.qZA(),e.TgZ(6,"ion-buttons",3)(7,"ion-button",4),e._uU(8,"Save"),e.qZA()()()(),e.TgZ(9,"ion-content",5)(10,"form",6)(11,"ion-item"),e._UZ(12,"ion-input",7),e.qZA(),e.TgZ(13,"ion-item"),e._UZ(14,"ion-input",8),e.qZA(),e.TgZ(15,"ion-item")(16,"ion-label"),e._uU(17,"Created Date"),e.qZA(),e._UZ(18,"ion-datetime-button",9),e.TgZ(19,"ion-modal",10),e.YNc(20,P,1,0,"ng-template"),e.qZA()(),e.TgZ(21,"ion-item"),e._UZ(22,"ion-input",11),e.qZA(),e.TgZ(23,"ion-item"),e._UZ(24,"ion-input",12),e.qZA(),e.TgZ(25,"ion-item"),e._UZ(26,"ion-input",13),e.qZA(),e.TgZ(27,"ion-item")(28,"ion-select",14)(29,"ion-select-option",15),e._uU(30,"Ordered"),e.qZA(),e.TgZ(31,"ion-select-option",16),e._uU(32,"Delivered"),e.qZA()()(),e.TgZ(33,"ion-item")(34,"ion-label"),e._uU(35,"Ordered Date"),e.qZA(),e._UZ(36,"br"),e.TgZ(37,"div"),e._UZ(38,"ion-datetime-button",17),e.TgZ(39,"ion-modal",10),e.YNc(40,U,1,0,"ng-template"),e.qZA()()(),e.TgZ(41,"ion-item")(42,"ion-label"),e._uU(43,"Delivered Date"),e.qZA(),e._UZ(44,"br")(45,"ion-datetime-button",18),e.TgZ(46,"ion-modal",10),e.YNc(47,N,1,0,"ng-template"),e.qZA()(),e.TgZ(48,"ion-grid",19)(49,"ion-item"),e._UZ(50,"ion-input",20),e.qZA(),e.TgZ(51,"ion-item"),e._UZ(52,"ion-input",21),e.qZA(),e.TgZ(53,"ion-item"),e._UZ(54,"ion-input",22),e.qZA(),e.TgZ(55,"ion-item"),e._UZ(56,"ion-input",23),e.qZA(),e.TgZ(57,"ion-item"),e._UZ(58,"ion-input",24),e.qZA(),e.TgZ(59,"ion-item"),e._UZ(60,"ion-input",25),e.qZA()()()()),2&t&&(e.Q6J("translucent",!0),e.xp6(3),e.Q6J("defaultHref",s.defaultHref),e.xp6(7),e.Q6J("formGroup",s.orderDetailsForm),e.xp6(9),e.Q6J("keepContentsMounted",!0),e.xp6(20),e.Q6J("keepContentsMounted",!0),e.xp6(7),e.Q6J("keepContentsMounted",!0))},dependencies:[i._Y,i.JJ,i.JL,l.YG,l.Sm,l.W2,l.x4,l.Mj,l.jY,l.Gu,l.pK,l.Ie,l.Q$,l.t9,l.n0,l.wd,l.sr,l.ki,l.as,l.QI,l.j9,l.oU,i.sg,i.u,i.x0]}),o})();var S=a(9360),x=a(8251),k=a(2737),w=a(5592),M=a(7394);class F extends M.w0{constructor(o,n){super()}schedule(o,n=0){return this}}const g={setInterval(r,o,...n){const{delegate:t}=g;return null!=t&&t.setInterval?t.setInterval(r,o,...n):setInterval(r,o,...n)},clearInterval(r){const{delegate:o}=g;return((null==o?void 0:o.clearInterval)||clearInterval)(r)},delegate:void 0};var Y=a(9039);const I={now:()=>(I.delegate||Date).now(),delegate:void 0};class h{constructor(o,n=h.now){this.schedulerActionCtor=o,this.now=n}schedule(o,n=0,t){return new this.schedulerActionCtor(this,o).schedule(t,n)}}h.now=I.now;const G=new class z extends h{constructor(o,n=h.now){super(o,n),this.actions=[],this._active=!1}flush(o){const{actions:n}=this;if(this._active)return void n.push(o);let t;this._active=!0;do{if(t=o.execute(o.state,o.delay))break}while(o=n.shift());if(this._active=!1,t){for(;o=n.shift();)o.unsubscribe();throw t}}}(class E extends F{constructor(o,n){super(o,n),this.scheduler=o,this.work=n,this.pending=!1}schedule(o,n=0){var t;if(this.closed)return this;this.state=o;const s=this.id,d=this.scheduler;return null!=s&&(this.id=this.recycleAsyncId(d,s,n)),this.pending=!0,this.delay=n,this.id=null!==(t=this.id)&&void 0!==t?t:this.requestAsyncId(d,this.id,n),this}requestAsyncId(o,n,t=0){return g.setInterval(o.flush.bind(o,this),t)}recycleAsyncId(o,n,t=0){if(null!=t&&this.delay===t&&!1===this.pending)return n;null!=n&&g.clearInterval(n)}execute(o,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const t=this._execute(o,n);if(t)return t;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(o,n){let s,t=!1;try{this.work(o)}catch(d){t=!0,s=d||new Error("Scheduled action threw falsy error")}if(t)return this.unsubscribe(),s}unsubscribe(){if(!this.closed){const{id:o,scheduler:n}=this,{actions:t}=n;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Y.P)(t,this),null!=o&&(this.id=this.recycleAsyncId(n,o,null)),this.delay=null,super.unsubscribe()}}});var J=a(671);var j=a(4829),L=a(6306),H=a(8504),W=a(9862);let X=(()=>{var r;class o{constructor(t){this.http=t}getOrders(){return this.http.get("/assets/mock/orders.json").pipe(function B(r=1/0){let o;o=r&&"object"==typeof r?r:{count:r};const{count:n=1/0,delay:t,resetOnSuccess:s=!1}=o;return n<=0?k.y:(0,S.e)((d,c)=>{let u,m=0;const Z=()=>{let C=!1;u=d.subscribe((0,x.x)(c,v=>{s&&(m=0),c.next(v)},void 0,v=>{if(m++<n){const T=()=>{u?(u.unsubscribe(),u=null,Z()):C=!0};if(null!=t){const te="number"==typeof t?function Q(r=0,o,n=G){let t=-1;return null!=o&&((0,J.K)(o)?n=o:t=o),new w.y(s=>{let d=function R(r){return r instanceof Date&&!isNaN(r)}(r)?+r-n.now():r;d<0&&(d=0);let c=0;return n.schedule(function(){s.closed||(s.next(c++),0<=t?this.schedule(void 0,t):s.complete())},d)})}(t):(0,j.Xf)(t(v,m)),q=(0,x.x)(c,()=>{q.unsubscribe(),T()},()=>{c.complete()});te.subscribe(q)}else T()}else c.error(v)})),C&&(u.unsubscribe(),u=null,Z())};Z()})}(1),(0,L.K)(this.handleError))}handleError(t){let s="";return s=t.error instanceof ErrorEvent?t.error.message:`Error Code: ${t.status}\nMessage: ${t.message}`,window.alert(s),(0,H._)(()=>s)}}return(r=o).\u0275fac=function(t){return new(t||r)(e.LFG(W.eN))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),o})();function V(r,o){if(1&r&&(e.TgZ(0,"ion-item",5)(1,"ion-label"),e.ALo(2,"lowercase"),e.TgZ(3,"h4",6),e._uU(4),e.qZA(),e.TgZ(5,"h4"),e._uU(6),e.qZA(),e.TgZ(7,"ion-text",6),e._uU(8),e.ALo(9,"date"),e.qZA(),e.TgZ(10,"p"),e._uU(11),e.ALo(12,"titlecase"),e.qZA()()()),2&r){const n=o.$implicit;e.MGl("routerLink","/orders/",n.id,""),e.xp6(1),e.Gre("ion-label-",e.lcZ(2,10,n.status),""),e.xp6(3),e.lnq(" (S):",n.size," \u2013 (Q):",n.quantity," \u2013 (G):",n.gsm," "),e.xp6(2),e.hij(" ",n.customer.firstName+" "+n.customer.lastName," "),e.xp6(2),e.hij(" ",e.xi3(9,12,n.createdOn,"medium")," "),e.xp6(3),e.hij(" ",e.lcZ(12,15,n.status)," ")}}const K=[{path:"",component:(()=>{var r;class o{constructor(){}ngOnInit(){console.log("Order Page called")}}return(r=o).\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-orders"]],decls:9,vars:0,consts:[["slot","bottom"],["tab","create"],["name","create-outline"],["tab","report"],["name","document-text-outline"]],template:function(t,s){1&t&&(e._UZ(0,"ion-router-outlet"),e.TgZ(1,"ion-tabs")(2,"ion-tab-bar",0)(3,"ion-tab-button",1),e._UZ(4,"ion-icon",2),e._uU(5," Place Order "),e.qZA(),e.TgZ(6,"ion-tab-button",3),e._UZ(7,"ion-icon",4),e._uU(8," Order Reports "),e.qZA()()())},dependencies:[l.gu,l.yq,l.ZU,l.UN,l.jP]}),o})(),children:[{path:"create",component:A},{path:"report",component:(()=>{var r;class o{constructor(t,s){this.ordersService=t,this.orderStore=s}ngOnInit(){console.log("Order report called")}ngAfterViewInit(){this.getOrders()}getOrders(){this.ordersService.getOrders().subscribe({next:t=>{this.orders=t.orders,this.orderStore.orders=this.orders,console.log(t)},error:t=>{console.error(t)},complete:()=>{console.log("Orders loaded")}})}orderClick(t){console.log(t)}}return(r=o).\u0275fac=function(t){return new(t||r)(e.Y36(X),e.Y36(O))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-orders-report"]],decls:7,vars:1,consts:[["pageName","Orders Report"],["fullscreen","true"],["slot","start",3,"routerLink",4,"ngFor","ngForOf"],["slot","fixed","vertical","bottom","horizontal","end"],["name","funnel-outline"],["slot","start",3,"routerLink"],[1,"ion-text-end","ion-float-right"]],template:function(t,s){1&t&&(e._UZ(0,"app-header",0),e.TgZ(1,"ion-content",1)(2,"ion-list"),e.YNc(3,V,13,17,"ion-item",2),e.qZA(),e.TgZ(4,"ion-fab",3)(5,"ion-fab-button"),e._UZ(6,"ion-icon",4),e.qZA()()()),2&t&&(e.xp6(3),e.Q6J("ngForOf",s.orders))},dependencies:[p.sg,l.W2,l.IJ,l.W4,l.gu,l.Ie,l.Q$,l.q_,l.yW,l.YI,f.rH,y.G,p.i8,p.rS,p.uU],styles:[".ion-label-delivered[_ngcontent-%COMP%]{border-left:3px solid var(--ion-color-success);padding-left:3px}.ion-label-ordered[_ngcontent-%COMP%]{border-left:3px solid var(--ion-color-warning);padding-left:3px}.ion-label-others[_ngcontent-%COMP%]{border-left:3px solid var(--ion-color-danger);padding-left:3px}ion-text[_ngcontent-%COMP%]{color:var(--ion-color-primary)}"]}),o})()},{path:":id",component:D},{path:"",redirectTo:"report",pathMatch:"full"}]}];let $=(()=>{var r;class o{}return(r=o).\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[f.Bz.forChild(K),f.Bz]}),o})();var _=a(6208);let ee=(()=>{var r;class o{}return(r=o).\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[p.ez,i.u5,l.Pc,$,_.m]}),o})()}}]);