"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[56],{56:(F,g,m)=>{m.r(g),m.d(g,{CustomersPageModule:()=>A});var h=m(6814),s=m(95),i=m(3800),d=m(209),e=m(6242);let f=(()=>{var t;class n{constructor(){}ngOnInit(){console.log("customer page loaded..")}}return(t=n).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-customers"]],decls:9,vars:0,consts:[["slot","bottom"],["tab","create"],["name","person-add-outline"],["tab","report"],["name","people-outline"]],template:function(r,a){1&r&&(e._UZ(0,"ion-router-outlet"),e.TgZ(1,"ion-tabs")(2,"ion-tab-bar",0)(3,"ion-tab-button",1),e._UZ(4,"ion-icon",2),e._uU(5," Add Customer "),e.qZA(),e.TgZ(6,"ion-tab-button",3),e._UZ(7,"ion-icon",4),e._uU(8," Customer Reports "),e.qZA()()())},dependencies:[i.gu,i.yq,i.ZU,i.UN,i.jP]}),n})();var u=m(8380),c=m(7906),v=m(3289),T=m(2370),Z=m(4429),p=m(74);let _=(()=>{var t;class n{constructor(r){this.el=r,this.element=r.nativeElement}onInput(r){this.element.value=this.element.value.toUpperCase()}}return(t=n).\u0275fac=function(r){return new(r||t)(e.Y36(e.SBq))},t.\u0275dir=e.lG2({type:t,selectors:[["","appUpperCase",""]],hostBindings:function(r,a){1&r&&e.NdJ("input",function(){return a.onInput()})("change",function(){return a.onInput()})}}),n})();function b(t,n){1&t&&e._UZ(0,"div")}function U(t,n){if(1&t){const o=e.EpF();e.TgZ(0,"form",6),e.NdJ("ngSubmit",function(){e.CHM(o);const a=e.oxw();return e.KtG(a.onSubmit())}),e.TgZ(1,"ion-item"),e._UZ(2,"ion-input",7),e.qZA(),e.TgZ(3,"ion-item"),e._UZ(4,"ion-input",8),e.qZA(),e.TgZ(5,"ion-item"),e._UZ(6,"ion-input",9),e.qZA(),e.TgZ(7,"ion-item"),e._UZ(8,"ion-input",10),e.qZA(),e.TgZ(9,"ion-grid",11)(10,"ion-item"),e._UZ(11,"ion-input",12),e.qZA(),e.TgZ(12,"ion-item"),e._UZ(13,"ion-input",13),e.qZA(),e.TgZ(14,"ion-item"),e._UZ(15,"ion-input",14),e.qZA(),e.TgZ(16,"ion-item"),e._UZ(17,"ion-input",15),e.qZA(),e.TgZ(18,"ion-item"),e._UZ(19,"ion-input",16),e.qZA(),e.TgZ(20,"ion-item"),e._UZ(21,"ion-input",17),e.qZA()(),e.TgZ(22,"ion-button",18),e._uU(23," Create Order "),e.qZA()()}if(2&t){const o=e.oxw();e.Q6J("formGroup",o.customerCreateForm),e.xp6(6),e.Q6J("maxlength",15),e.xp6(2),e.Q6J("maxlength",10),e.xp6(13),e.Q6J("maxlength",6),e.xp6(1),e.Q6J("disabled",!o.customerCreateForm.valid)}}function N(t,n){if(1&t){const o=e.EpF();e.TgZ(0,"ion-card")(1,"ion-card-content")(2,"h2"),e._uU(3,"Customer has been created successfully with id: "),e.TgZ(4,"strong"),e._uU(5),e.qZA()()(),e.TgZ(6,"ion-button",19),e.NdJ("click",function(){e.CHM(o);const a=e.oxw();return e.KtG(a.viewCustomerDetails())}),e._uU(7,"View Order Details"),e.qZA(),e._UZ(8,"br"),e.TgZ(9,"ion-button",19),e.NdJ("click",function(){e.CHM(o);const a=e.oxw();return e.KtG(a.createAnotherCustomer())}),e._uU(10,"Create New Order"),e.qZA()()}if(2&t){const o=e.oxw();e.xp6(5),e.Oqu(null==o.newCreatedCustomer?null:o.newCreatedCustomer.id)}}const I=[{path:"",component:f,children:[{path:"create",component:(()=>{var t;class n{constructor(r,a,l,C,x){this.formBuilder=r,this.addressesStore=a,this.loginUserStore=l,this.customerStore=C,this.router=x,this.customerCreated=!1,this.showSpinner=!1}ngOnInit(){this.initializeForm()}ionViewWillEnter(){this.customerCreated=!1,this.newCreatedCustomer=void 0,this.initializeForm()}initializeForm(){this.customerCreateForm=this.formBuilder.group({firstName:["",[s.kI.required]],lastName:["",[s.kI.required]],gstNumber:["",[s.kI.required,s.kI.minLength(15),s.kI.maxLength(15)]],phoneNumber:["",[s.kI.required,s.kI.minLength(10),s.kI.maxLength(10)]],address:this.formBuilder.group({addressOne:["",s.kI.required],addressTwo:["",s.kI.required],city:["",s.kI.required],district:["",s.kI.required],state:["",s.kI.required],pinCode:["",[s.kI.required,s.kI.minLength(6),s.kI.maxLength(6)]]})})}onSubmit(){if(this.customerCreateForm.valid){let r={id:Math.max(...this.customerStore.customers.map(l=>l.id))+1,firstName:this.customerCreateForm.value.firstName,lastName:this.customerCreateForm.value.lastName,gstNumber:this.customerCreateForm.value.gstNumber,createdOn:c.E.currentDate(u.f.SYSTEM_DATE_TIME_FORMAT),createdBy:this.loginUserStore.loggedInUser.id,modifiedOn:c.E.currentDate(u.f.SYSTEM_DATE_TIME_FORMAT),modifiedBy:this.loginUserStore.loggedInUser.id},a={id:Math.max(...this.addressesStore.addresses.map(l=>l.id))+1,addressOne:this.customerCreateForm.value.address.addressOne,addressTwo:this.customerCreateForm.value.address.addressTwo,city:this.customerCreateForm.value.address.city,district:this.customerCreateForm.value.address.district,state:this.customerCreateForm.value.address.state,country:"IN",addressType:"CUSTOMER",customerId:r.id,pinCode:this.customerCreateForm.value.address.pinCode,createdOn:c.E.currentDate(u.f.SYSTEM_DATE_TIME_FORMAT),createdBy:this.loginUserStore.loggedInUser.id,modifiedOn:c.E.currentDate(u.f.SYSTEM_DATE_TIME_FORMAT),modifiedBy:this.loginUserStore.loggedInUser.id};this.newCreatedCustomer=r,this.customerStore.customers.unshift(r),this.addressesStore.addresses.unshift(a),this.showSpinner=!0,setTimeout(()=>{this.showSpinner=!1,this.customerCreated=!0},2e3),console.log(a),console.log(r)}}viewCustomerDetails(){this.router.navigate(["customers/report"])}createAnotherCustomer(){this.customerCreated=!1,this.newCreatedCustomer=void 0,this.customerCreateForm.reset(),this.ionViewWillEnter()}}return(t=n).\u0275fac=function(r){return new(r||t)(e.Y36(s.qu),e.Y36(v.u),e.Y36(T.k),e.Y36(Z.k),e.Y36(d.F0))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-create-customer"]],decls:8,vars:4,consts:[["pageName","Create Customer"],["fullscreen","true"],[4,"ngIf","ngIfThen","ngIfElse"],["customerCreationSection",""],["customerCreatedSection",""],["message","Processing create customer request",3,"isOpen"],[3,"formGroup","ngSubmit"],["labelPlacement","stacked","label","First Name","formControlName","firstName","placeholder","Provide First Name"],["labelPlacement","stacked","label","Last Name","formControlName","lastName","placeholder","Provide Second Name"],["labelPlacement","stacked","label","GST Number","formControlName","gstNumber","placeholder","Provide GST","appUpperCase","",3,"maxlength"],["labelPlacement","stacked","label","Phone Number","formControlName","phoneNumber","placeholder","Provide Phone Number","type","number",3,"maxlength"],["formGroupName","address"],["labelPlacement","stacked","label","Address1","formControlName","addressOne","placeholder","Provide Address1"],["labelPlacement","stacked","label","Address2","formControlName","addressTwo","placeholder","Provide Address2"],["labelPlacement","stacked","label","City","formControlName","city","placeholder","Provide city"],["labelPlacement","stacked","label","District","formControlName","district","placeholder","Provide District"],["labelPlacement","stacked","label","State","formControlName","state","placeholder","Provide State"],["labelPlacement","stacked","label","Pin Code","formControlName","pinCode","placeholder","Provide Pin Code","type","number",3,"maxlength"],["expand","block","type","submit",3,"disabled"],["fill","solid","expand","block",3,"click"]],template:function(r,a){if(1&r&&(e._UZ(0,"app-header",0),e.TgZ(1,"ion-content",1),e.YNc(2,b,1,0,"div",2)(3,U,24,5,"ng-template",null,3,e.W1O)(5,N,11,1,"ng-template",null,4,e.W1O),e.qZA(),e._UZ(7,"ion-loading",5)),2&r){const l=e.MAs(4),C=e.MAs(6);e.xp6(2),e.Q6J("ngIf",a.customerCreated)("ngIfThen",C)("ngIfElse",l),e.xp6(5),e.Q6J("isOpen",a.showSpinner)}},dependencies:[h.O5,s._Y,s.JJ,s.JL,s.nD,i.YG,i.PM,i.FN,i.W2,i.jY,i.pK,i.Ie,i.wh,i.as,i.j9,p.G,s.sg,s.u,s.x0,_]}),n})()},{path:"report",component:(()=>{var t;class n{constructor(){}ngOnInit(){console.log("customer report loaded..")}}return(t=n).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-customers-report"]],decls:1,vars:0,consts:[["pageName","Customers Report"]],template:function(r,a){1&r&&e._UZ(0,"app-header",0)},dependencies:[p.G]}),n})(),children:[{path:":id",component:(()=>{var t;class n{constructor(){}ngOnInit(){}}return(t=n).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-customer-details"]],decls:1,vars:0,consts:[["pageName","Customer Details"]],template:function(r,a){1&r&&e._UZ(0,"app-header",0)},dependencies:[p.G]}),n})()}]},{path:"",redirectTo:"report",pathMatch:"full"}]}];let P=(()=>{var t;class n{}return(t=n).\u0275fac=function(r){return new(r||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[d.Bz.forChild(I),d.Bz]}),n})();var S=m(6208);let A=(()=>{var t;class n{}return(t=n).\u0275fac=function(r){return new(r||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[h.ez,s.u5,i.Pc,P,S.m]}),n})()}}]);